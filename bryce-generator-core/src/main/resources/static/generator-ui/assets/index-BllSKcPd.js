import{d as xt,r as ue,a as qe,b as H,c as Oe,o as le,w as p,e as c,f as Nt,g as et,h as tt,F as nt,i as pe,n as Tr,E as Ve,j as Or,u as Ar,k as Ir,l as Cr,m as An,p as Xn,q as xr,s as Dr,t as Rr,v as Mr,x as Kn}from"./index-CuHfYZIc.js";import{r as Xe}from"./request-ChiGirky.js";import{l as kr}from"./fieldType-ctjBR38t.js";import{d as Lr}from"./download-DhycBs8O.js";import{l as Pr,t as Br}from"./datasource-CuaPpjN1.js";import{l as Ur}from"./baseClass-BKPGfC93.js";const $r=(t,e)=>Xe.post(`/gen/table/import/${t}`,e),Zn=t=>Xe.put("/gen/table",t),Fr=(t,e)=>Xe.put(`/gen/table/field/${t}`,e),Vr=t=>Xe.get(`/gen/table/sync/${t}`),zr=t=>Xe.delete("/gen/table",{data:{ids:t}}),ca=t=>Xe.get(`/gen/table/${t}`),Gr=t=>Xe.post("/gen/table/page",t);/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function jn(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Ge(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?jn(Object(a),!0).forEach(function(n){Hr(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):jn(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Yt(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yt=function(e){return typeof e}:Yt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(t)}function Hr(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function We(){return We=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},We.apply(this,arguments)}function qr(t,e){if(t==null)return{};var a={},n=Object.keys(t),r,i;for(i=0;i<n.length;i++)r=n[i],!(e.indexOf(r)>=0)&&(a[r]=t[r]);return a}function Yr(t,e){if(t==null)return{};var a=qr(t,e),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var Wr="1.15.6";function Ye(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Ke=Ye(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Dt=Ye(/Edge/i),Jn=Ye(/firefox/i),Tt=Ye(/safari/i)&&!Ye(/chrome/i)&&!Ye(/android/i),In=Ye(/iP(ad|od|hone)/i),ua=Ye(/chrome/i)&&Ye(/android/i),da={capture:!1,passive:!1};function j(t,e,a){t.addEventListener(e,a,!Ke&&da)}function K(t,e,a){t.removeEventListener(e,a,!Ke&&da)}function jt(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function fa(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Ue(t,e,a,n){if(t){a=a||document;do{if(e!=null&&(e[0]===">"?t.parentNode===a&&jt(t,e):jt(t,e))||n&&t===a)return t;if(t===a)break}while(t=fa(t))}return null}var Qn=/\s+/g;function De(t,e,a){if(t&&e)if(t.classList)t.classList[a?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(Qn," ").replace(" "+e+" "," ");t.className=(n+(a?" "+e:"")).replace(Qn," ")}}function L(t,e,a){var n=t&&t.style;if(n){if(a===void 0)return document.defaultView&&document.defaultView.getComputedStyle?a=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(a=t.currentStyle),e===void 0?a:a[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=a+(typeof a=="string"?"":"px")}}function _t(t,e){var a="";if(typeof t=="string")a=t;else do{var n=L(t,"transform");n&&n!=="none"&&(a=n+" "+a)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(a)}function ga(t,e,a){if(t){var n=t.getElementsByTagName(e),r=0,i=n.length;if(a)for(;r<i;r++)a(n[r],r);return n}return[]}function ze(){var t=document.scrollingElement;return t||document.documentElement}function be(t,e,a,n,r){if(!(!t.getBoundingClientRect&&t!==window)){var i,l,s,u,d,b,h;if(t!==window&&t.parentNode&&t!==ze()?(i=t.getBoundingClientRect(),l=i.top,s=i.left,u=i.bottom,d=i.right,b=i.height,h=i.width):(l=0,s=0,u=window.innerHeight,d=window.innerWidth,b=window.innerHeight,h=window.innerWidth),(e||a)&&t!==window&&(r=r||t.parentNode,!Ke))do if(r&&r.getBoundingClientRect&&(L(r,"transform")!=="none"||a&&L(r,"position")!=="static")){var S=r.getBoundingClientRect();l-=S.top+parseInt(L(r,"border-top-width")),s-=S.left+parseInt(L(r,"border-left-width")),u=l+i.height,d=s+i.width;break}while(r=r.parentNode);if(n&&t!==window){var O=_t(r||t),_=O&&O.a,f=O&&O.d;O&&(l/=f,s/=_,h/=_,b/=f,u=l+b,d=s+h)}return{top:l,left:s,bottom:u,right:d,width:h,height:b}}}function ea(t,e,a){for(var n=rt(t,!0),r=be(t)[e];n;){var i=be(n)[a],l=void 0;if(l=r>=i,!l)return n;if(n===ze())break;n=rt(n,!1)}return!1}function vt(t,e,a,n){for(var r=0,i=0,l=t.children;i<l.length;){if(l[i].style.display!=="none"&&l[i]!==P.ghost&&(n||l[i]!==P.dragged)&&Ue(l[i],a.draggable,t,!1)){if(r===e)return l[i];r++}i++}return null}function Cn(t,e){for(var a=t.lastElementChild;a&&(a===P.ghost||L(a,"display")==="none"||e&&!jt(a,e));)a=a.previousElementSibling;return a||null}function ke(t,e){var a=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==P.clone&&(!e||jt(t,e))&&a++;return a}function ta(t){var e=0,a=0,n=ze();if(t)do{var r=_t(t),i=r.a,l=r.d;e+=t.scrollLeft*i,a+=t.scrollTop*l}while(t!==n&&(t=t.parentNode));return[e,a]}function Xr(t,e){for(var a in t)if(t.hasOwnProperty(a)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[a][n])return Number(a)}return-1}function rt(t,e){if(!t||!t.getBoundingClientRect)return ze();var a=t,n=!1;do if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var r=L(a);if(a.clientWidth<a.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||a.clientHeight<a.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!a.getBoundingClientRect||a===document.body)return ze();if(n||e)return a;n=!0}}while(a=a.parentNode);return ze()}function Kr(t,e){if(t&&e)for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}function fn(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Ot;function pa(t,e){return function(){if(!Ot){var a=arguments,n=this;a.length===1?t.call(n,a[0]):t.apply(n,a),Ot=setTimeout(function(){Ot=void 0},e)}}}function Zr(){clearTimeout(Ot),Ot=void 0}function ha(t,e,a){t.scrollLeft+=e,t.scrollTop+=a}function ma(t){var e=window.Polymer,a=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):a?a(t).clone(!0)[0]:t.cloneNode(!0)}function ba(t,e,a){var n={};return Array.from(t.children).forEach(function(r){var i,l,s,u;if(!(!Ue(r,e.draggable,t,!1)||r.animated||r===a)){var d=be(r);n.left=Math.min((i=n.left)!==null&&i!==void 0?i:1/0,d.left),n.top=Math.min((l=n.top)!==null&&l!==void 0?l:1/0,d.top),n.right=Math.max((s=n.right)!==null&&s!==void 0?s:-1/0,d.right),n.bottom=Math.max((u=n.bottom)!==null&&u!==void 0?u:-1/0,d.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var Ce="Sortable"+new Date().getTime();function jr(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(L(r,"display")==="none"||r===P.ghost)){t.push({target:r,rect:be(r)});var i=Ge({},t[t.length-1].rect);if(r.thisAnimationDuration){var l=_t(r,!0);l&&(i.top-=l.f,i.left-=l.e)}r.fromRect=i}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(Xr(t,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var i=!1,l=0;t.forEach(function(s){var u=0,d=s.target,b=d.fromRect,h=be(d),S=d.prevFromRect,O=d.prevToRect,_=s.rect,f=_t(d,!0);f&&(h.top-=f.f,h.left-=f.e),d.toRect=h,d.thisAnimationDuration&&fn(S,h)&&!fn(b,h)&&(_.top-h.top)/(_.left-h.left)===(b.top-h.top)/(b.left-h.left)&&(u=Qr(_,S,O,r.options)),fn(h,b)||(d.prevFromRect=b,d.prevToRect=h,u||(u=r.options.animation),r.animate(d,_,h,u)),u&&(i=!0,l=Math.max(l,u),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},u),d.thisAnimationDuration=u)}),clearTimeout(e),i?e=setTimeout(function(){typeof n=="function"&&n()},l):typeof n=="function"&&n(),t=[]},animate:function(n,r,i,l){if(l){L(n,"transition",""),L(n,"transform","");var s=_t(this.el),u=s&&s.a,d=s&&s.d,b=(r.left-i.left)/(u||1),h=(r.top-i.top)/(d||1);n.animatingX=!!b,n.animatingY=!!h,L(n,"transform","translate3d("+b+"px,"+h+"px,0)"),this.forRepaintDummy=Jr(n),L(n,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),L(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){L(n,"transition",""),L(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},l)}}}}function Jr(t){return t.offsetWidth}function Qr(t,e,a,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-a.top,2)+Math.pow(e.left-a.left,2))*n.animation}var gt=[],gn={initializeByDefault:!0},Rt={mount:function(e){for(var a in gn)gn.hasOwnProperty(a)&&!(a in e)&&(e[a]=gn[a]);gt.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),gt.push(e)},pluginEvent:function(e,a,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";gt.forEach(function(l){a[l.pluginName]&&(a[l.pluginName][i]&&a[l.pluginName][i](Ge({sortable:a},n)),a.options[l.pluginName]&&a[l.pluginName][e]&&a[l.pluginName][e](Ge({sortable:a},n)))})},initializePlugins:function(e,a,n,r){gt.forEach(function(s){var u=s.pluginName;if(!(!e.options[u]&&!s.initializeByDefault)){var d=new s(e,a,e.options);d.sortable=e,d.options=e.options,e[u]=d,We(n,d.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var l=this.modifyOption(e,i,e.options[i]);typeof l<"u"&&(e.options[i]=l)}},getEventProperties:function(e,a){var n={};return gt.forEach(function(r){typeof r.eventProperties=="function"&&We(n,r.eventProperties.call(a[r.pluginName],e))}),n},modifyOption:function(e,a,n){var r;return gt.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[a]=="function"&&(r=i.optionListeners[a].call(e[i.pluginName],n))}),r}};function eo(t){var e=t.sortable,a=t.rootEl,n=t.name,r=t.targetEl,i=t.cloneEl,l=t.toEl,s=t.fromEl,u=t.oldIndex,d=t.newIndex,b=t.oldDraggableIndex,h=t.newDraggableIndex,S=t.originalEvent,O=t.putSortable,_=t.extraEventProperties;if(e=e||a&&a[Ce],!!e){var f,k=e.options,N="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Ke&&!Dt?f=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent(n,!0,!0)),f.to=l||a,f.from=s||a,f.item=r||a,f.clone=i,f.oldIndex=u,f.newIndex=d,f.oldDraggableIndex=b,f.newDraggableIndex=h,f.originalEvent=S,f.pullMode=O?O.lastPutMode:void 0;var m=Ge(Ge({},_),Rt.getEventProperties(n,e));for(var q in m)f[q]=m[q];a&&a.dispatchEvent(f),k[N]&&k[N].call(e,f)}}var to=["evt"],Ie=function(e,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,i=Yr(n,to);Rt.pluginEvent.bind(P)(e,a,Ge({dragEl:E,parentEl:ce,ghostEl:V,rootEl:ie,nextEl:ut,lastDownEl:Wt,cloneEl:se,cloneHidden:at,dragStarted:yt,putSortable:Se,activeSortable:P.active,originalEvent:r,oldIndex:bt,oldDraggableIndex:At,newIndex:Re,newDraggableIndex:Qe,hideGhostForTarget:ya,unhideGhostForTarget:Sa,cloneNowHidden:function(){at=!0},cloneNowShown:function(){at=!1},dispatchSortableEvent:function(s){Ae({sortable:a,name:s,originalEvent:r})}},i))};function Ae(t){eo(Ge({putSortable:Se,cloneEl:se,targetEl:E,rootEl:ie,oldIndex:bt,oldDraggableIndex:At,newIndex:Re,newDraggableIndex:Qe},t))}var E,ce,V,ie,ut,Wt,se,at,bt,Re,At,Qe,Ft,Se,ht=!1,Jt=!1,Qt=[],st,Be,pn,hn,na,aa,yt,pt,It,Ct=!1,Vt=!1,Xt,Te,mn=[],wn=!1,en=[],an=typeof document<"u",zt=In,ra=Dt||Ke?"cssFloat":"float",no=an&&!ua&&!In&&"draggable"in document.createElement("div"),_a=function(){if(an){if(Ke)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),va=function(e,a){var n=L(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=vt(e,0,a),l=vt(e,1,a),s=i&&L(i),u=l&&L(l),d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+be(i).width,b=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+be(l).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&s.float!=="none"){var h=s.float==="left"?"left":"right";return l&&(u.clear==="both"||u.clear===h)?"vertical":"horizontal"}return i&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||d>=r&&n[ra]==="none"||l&&n[ra]==="none"&&d+b>r)?"vertical":"horizontal"},ao=function(e,a,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,l=n?e.width:e.height,s=n?a.left:a.top,u=n?a.right:a.bottom,d=n?a.width:a.height;return r===s||i===u||r+l/2===s+d/2},ro=function(e,a){var n;return Qt.some(function(r){var i=r[Ce].options.emptyInsertThreshold;if(!(!i||Cn(r))){var l=be(r),s=e>=l.left-i&&e<=l.right+i,u=a>=l.top-i&&a<=l.bottom+i;if(s&&u)return n=r}}),n},Ea=function(e){function a(i,l){return function(s,u,d,b){var h=s.options.group.name&&u.options.group.name&&s.options.group.name===u.options.group.name;if(i==null&&(l||h))return!0;if(i==null||i===!1)return!1;if(l&&i==="clone")return i;if(typeof i=="function")return a(i(s,u,d,b),l)(s,u,d,b);var S=(l?s:u).options.group.name;return i===!0||typeof i=="string"&&i===S||i.join&&i.indexOf(S)>-1}}var n={},r=e.group;(!r||Yt(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=a(r.pull,!0),n.checkPut=a(r.put),n.revertClone=r.revertClone,e.group=n},ya=function(){!_a&&V&&L(V,"display","none")},Sa=function(){!_a&&V&&L(V,"display","")};an&&!ua&&document.addEventListener("click",function(t){if(Jt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Jt=!1,!1},!0);var ct=function(e){if(E){e=e.touches?e.touches[0]:e;var a=ro(e.clientX,e.clientY);if(a){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=a,n.preventDefault=void 0,n.stopPropagation=void 0,a[Ce]._onDragOver(n)}}},oo=function(e){E&&E.parentNode[Ce]._isOutsideThisEl(e.target)};function P(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=We({},e),t[Ce]=this;var a={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return va(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,s){l.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:P.supportPointer!==!1&&"PointerEvent"in window&&(!Tt||In),emptyInsertThreshold:5};Rt.initializePlugins(this,t,a);for(var n in a)!(n in e)&&(e[n]=a[n]);Ea(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:no,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?j(t,"pointerdown",this._onTapStart):(j(t,"mousedown",this._onTapStart),j(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(j(t,"dragover",this),j(t,"dragenter",this)),Qt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),We(this,jr())}P.prototype={constructor:P,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(pt=null)},_getDirection:function(e,a){return typeof this.options.direction=="function"?this.options.direction.call(this,e,a,E):this.options.direction},_onTapStart:function(e){if(e.cancelable){var a=this,n=this.el,r=this.options,i=r.preventOnFilter,l=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,u=(s||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||u,b=r.filter;if(po(n),!E&&!(/mousedown|pointerdown/.test(l)&&e.button!==0||r.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Tt&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=Ue(u,r.draggable,n,!1),!(u&&u.animated)&&Wt!==u)){if(bt=ke(u),At=ke(u,r.draggable),typeof b=="function"){if(b.call(this,e,u,this)){Ae({sortable:a,rootEl:d,name:"filter",targetEl:u,toEl:n,fromEl:n}),Ie("filter",a,{evt:e}),i&&e.preventDefault();return}}else if(b&&(b=b.split(",").some(function(h){if(h=Ue(d,h.trim(),n,!1),h)return Ae({sortable:a,rootEl:h,name:"filter",targetEl:u,fromEl:n,toEl:n}),Ie("filter",a,{evt:e}),!0}),b)){i&&e.preventDefault();return}r.handle&&!Ue(d,r.handle,n,!1)||this._prepareDragStart(e,s,u)}}},_prepareDragStart:function(e,a,n){var r=this,i=r.el,l=r.options,s=i.ownerDocument,u;if(n&&!E&&n.parentNode===i){var d=be(n);if(ie=i,E=n,ce=E.parentNode,ut=E.nextSibling,Wt=n,Ft=l.group,P.dragged=E,st={target:E,clientX:(a||e).clientX,clientY:(a||e).clientY},na=st.clientX-d.left,aa=st.clientY-d.top,this._lastX=(a||e).clientX,this._lastY=(a||e).clientY,E.style["will-change"]="all",u=function(){if(Ie("delayEnded",r,{evt:e}),P.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Jn&&r.nativeDraggable&&(E.draggable=!0),r._triggerDragStart(e,a),Ae({sortable:r,name:"choose",originalEvent:e}),De(E,l.chosenClass,!0)},l.ignore.split(",").forEach(function(b){ga(E,b.trim(),bn)}),j(s,"dragover",ct),j(s,"mousemove",ct),j(s,"touchmove",ct),l.supportPointer?(j(s,"pointerup",r._onDrop),!this.nativeDraggable&&j(s,"pointercancel",r._onDrop)):(j(s,"mouseup",r._onDrop),j(s,"touchend",r._onDrop),j(s,"touchcancel",r._onDrop)),Jn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,E.draggable=!0),Ie("delayStart",this,{evt:e}),l.delay&&(!l.delayOnTouchOnly||a)&&(!this.nativeDraggable||!(Dt||Ke))){if(P.eventCanceled){this._onDrop();return}l.supportPointer?(j(s,"pointerup",r._disableDelayedDrag),j(s,"pointercancel",r._disableDelayedDrag)):(j(s,"mouseup",r._disableDelayedDrag),j(s,"touchend",r._disableDelayedDrag),j(s,"touchcancel",r._disableDelayedDrag)),j(s,"mousemove",r._delayedDragTouchMoveHandler),j(s,"touchmove",r._delayedDragTouchMoveHandler),l.supportPointer&&j(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(u,l.delay)}else u()}},_delayedDragTouchMoveHandler:function(e){var a=e.touches?e.touches[0]:e;Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){E&&bn(E),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;K(e,"mouseup",this._disableDelayedDrag),K(e,"touchend",this._disableDelayedDrag),K(e,"touchcancel",this._disableDelayedDrag),K(e,"pointerup",this._disableDelayedDrag),K(e,"pointercancel",this._disableDelayedDrag),K(e,"mousemove",this._delayedDragTouchMoveHandler),K(e,"touchmove",this._delayedDragTouchMoveHandler),K(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,a){a=a||e.pointerType=="touch"&&e,!this.nativeDraggable||a?this.options.supportPointer?j(document,"pointermove",this._onTouchMove):a?j(document,"touchmove",this._onTouchMove):j(document,"mousemove",this._onTouchMove):(j(E,"dragend",this),j(ie,"dragstart",this._onDragStart));try{document.selection?Kt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,a){if(ht=!1,ie&&E){Ie("dragStarted",this,{evt:a}),this.nativeDraggable&&j(document,"dragover",oo);var n=this.options;!e&&De(E,n.dragClass,!1),De(E,n.ghostClass,!0),P.active=this,e&&this._appendGhost(),Ae({sortable:this,name:"start",originalEvent:a})}else this._nulling()},_emulateDragOver:function(){if(Be){this._lastX=Be.clientX,this._lastY=Be.clientY,ya();for(var e=document.elementFromPoint(Be.clientX,Be.clientY),a=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Be.clientX,Be.clientY),e!==a);)a=e;if(E.parentNode[Ce]._isOutsideThisEl(e),a)do{if(a[Ce]){var n=void 0;if(n=a[Ce]._onDragOver({clientX:Be.clientX,clientY:Be.clientY,target:e,rootEl:a}),n&&!this.options.dragoverBubble)break}e=a}while(a=fa(a));Sa()}},_onTouchMove:function(e){if(st){var a=this.options,n=a.fallbackTolerance,r=a.fallbackOffset,i=e.touches?e.touches[0]:e,l=V&&_t(V,!0),s=V&&l&&l.a,u=V&&l&&l.d,d=zt&&Te&&ta(Te),b=(i.clientX-st.clientX+r.x)/(s||1)+(d?d[0]-mn[0]:0)/(s||1),h=(i.clientY-st.clientY+r.y)/(u||1)+(d?d[1]-mn[1]:0)/(u||1);if(!P.active&&!ht){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(V){l?(l.e+=b-(pn||0),l.f+=h-(hn||0)):l={a:1,b:0,c:0,d:1,e:b,f:h};var S="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");L(V,"webkitTransform",S),L(V,"mozTransform",S),L(V,"msTransform",S),L(V,"transform",S),pn=b,hn=h,Be=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!V){var e=this.options.fallbackOnBody?document.body:ie,a=be(E,!0,zt,!0,e),n=this.options;if(zt){for(Te=e;L(Te,"position")==="static"&&L(Te,"transform")==="none"&&Te!==document;)Te=Te.parentNode;Te!==document.body&&Te!==document.documentElement?(Te===document&&(Te=ze()),a.top+=Te.scrollTop,a.left+=Te.scrollLeft):Te=ze(),mn=ta(Te)}V=E.cloneNode(!0),De(V,n.ghostClass,!1),De(V,n.fallbackClass,!0),De(V,n.dragClass,!0),L(V,"transition",""),L(V,"transform",""),L(V,"box-sizing","border-box"),L(V,"margin",0),L(V,"top",a.top),L(V,"left",a.left),L(V,"width",a.width),L(V,"height",a.height),L(V,"opacity","0.8"),L(V,"position",zt?"absolute":"fixed"),L(V,"zIndex","100000"),L(V,"pointerEvents","none"),P.ghost=V,e.appendChild(V),L(V,"transform-origin",na/parseInt(V.style.width)*100+"% "+aa/parseInt(V.style.height)*100+"%")}},_onDragStart:function(e,a){var n=this,r=e.dataTransfer,i=n.options;if(Ie("dragStart",this,{evt:e}),P.eventCanceled){this._onDrop();return}Ie("setupClone",this),P.eventCanceled||(se=ma(E),se.removeAttribute("id"),se.draggable=!1,se.style["will-change"]="",this._hideClone(),De(se,this.options.chosenClass,!1),P.clone=se),n.cloneId=Kt(function(){Ie("clone",n),!P.eventCanceled&&(n.options.removeCloneOnHide||ie.insertBefore(se,E),n._hideClone(),Ae({sortable:n,name:"clone"}))}),!a&&De(E,i.dragClass,!0),a?(Jt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(K(document,"mouseup",n._onDrop),K(document,"touchend",n._onDrop),K(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,E)),j(document,"drop",n),L(E,"transform","translateZ(0)")),ht=!0,n._dragStartId=Kt(n._dragStarted.bind(n,a,e)),j(document,"selectstart",n),yt=!0,window.getSelection().removeAllRanges(),Tt&&L(document.body,"user-select","none")},_onDragOver:function(e){var a=this.el,n=e.target,r,i,l,s=this.options,u=s.group,d=P.active,b=Ft===u,h=s.sort,S=Se||d,O,_=this,f=!1;if(wn)return;function k(Y,_e){Ie(Y,_,Ge({evt:e,isOwner:b,axis:O?"vertical":"horizontal",revert:l,dragRect:r,targetRect:i,canSort:h,fromSortable:S,target:n,completed:m,onMove:function(D,Le){return Gt(ie,a,E,r,D,be(D),e,Le)},changed:q},_e))}function N(){k("dragOverAnimationCapture"),_.captureAnimationState(),_!==S&&S.captureAnimationState()}function m(Y){return k("dragOverCompleted",{insertion:Y}),Y&&(b?d._hideClone():d._showClone(_),_!==S&&(De(E,Se?Se.options.ghostClass:d.options.ghostClass,!1),De(E,s.ghostClass,!0)),Se!==_&&_!==P.active?Se=_:_===P.active&&Se&&(Se=null),S===_&&(_._ignoreWhileAnimating=n),_.animateAll(function(){k("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==S&&(S.animateAll(),S._ignoreWhileAnimating=null)),(n===E&&!E.animated||n===a&&!n.animated)&&(pt=null),!s.dragoverBubble&&!e.rootEl&&n!==document&&(E.parentNode[Ce]._isOutsideThisEl(e.target),!Y&&ct(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function q(){Re=ke(E),Qe=ke(E,s.draggable),Ae({sortable:_,name:"change",toEl:a,newIndex:Re,newDraggableIndex:Qe,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=Ue(n,s.draggable,a,!0),k("dragOver"),P.eventCanceled)return f;if(E.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||_._ignoreWhileAnimating===n)return m(!1);if(Jt=!1,d&&!s.disabled&&(b?h||(l=ce!==ie):Se===this||(this.lastPutMode=Ft.checkPull(this,d,E,e))&&u.checkPut(this,d,E,e))){if(O=this._getDirection(e,n)==="vertical",r=be(E),k("dragOverValid"),P.eventCanceled)return f;if(l)return ce=ie,N(),this._hideClone(),k("revert"),P.eventCanceled||(ut?ie.insertBefore(E,ut):ie.appendChild(E)),m(!0);var J=Cn(a,s.draggable);if(!J||co(e,O,this)&&!J.animated){if(J===E)return m(!1);if(J&&a===e.target&&(n=J),n&&(i=be(n)),Gt(ie,a,E,r,n,i,e,!!n)!==!1)return N(),J&&J.nextSibling?a.insertBefore(E,J.nextSibling):a.appendChild(E),ce=a,q(),m(!0)}else if(J&&so(e,O,this)){var U=vt(a,0,s,!0);if(U===E)return m(!1);if(n=U,i=be(n),Gt(ie,a,E,r,n,i,e,!1)!==!1)return N(),a.insertBefore(E,U),ce=a,q(),m(!0)}else if(n.parentNode===a){i=be(n);var z=0,X,Q=E.parentNode!==a,I=!ao(E.animated&&E.toRect||r,n.animated&&n.toRect||i,O),B=O?"top":"left",A=ea(n,"top","top")||ea(E,"top","top"),ee=A?A.scrollTop:void 0;pt!==n&&(X=i[B],Ct=!1,Vt=!I&&s.invertSwap||Q),z=uo(e,n,i,O,I?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Vt,pt===n);var ne;if(z!==0){var oe=ke(E);do oe-=z,ne=ce.children[oe];while(ne&&(L(ne,"display")==="none"||ne===V))}if(z===0||ne===n)return m(!1);pt=n,It=z;var we=n.nextElementSibling,de=!1;de=z===1;var Me=Gt(ie,a,E,r,n,i,e,de);if(Me!==!1)return(Me===1||Me===-1)&&(de=Me===1),wn=!0,setTimeout(lo,30),N(),de&&!we?a.appendChild(E):n.parentNode.insertBefore(E,de?we:n),A&&ha(A,0,ee-A.scrollTop),ce=E.parentNode,X!==void 0&&!Vt&&(Xt=Math.abs(X-be(n)[B])),q(),m(!0)}if(a.contains(E))return m(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){K(document,"mousemove",this._onTouchMove),K(document,"touchmove",this._onTouchMove),K(document,"pointermove",this._onTouchMove),K(document,"dragover",ct),K(document,"mousemove",ct),K(document,"touchmove",ct)},_offUpEvents:function(){var e=this.el.ownerDocument;K(e,"mouseup",this._onDrop),K(e,"touchend",this._onDrop),K(e,"pointerup",this._onDrop),K(e,"pointercancel",this._onDrop),K(e,"touchcancel",this._onDrop),K(document,"selectstart",this)},_onDrop:function(e){var a=this.el,n=this.options;if(Re=ke(E),Qe=ke(E,n.draggable),Ie("drop",this,{evt:e}),ce=E&&E.parentNode,Re=ke(E),Qe=ke(E,n.draggable),P.eventCanceled){this._nulling();return}ht=!1,Vt=!1,Ct=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Nn(this.cloneId),Nn(this._dragStartId),this.nativeDraggable&&(K(document,"drop",this),K(a,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Tt&&L(document.body,"user-select",""),L(E,"transform",""),e&&(yt&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),V&&V.parentNode&&V.parentNode.removeChild(V),(ie===ce||Se&&Se.lastPutMode!=="clone")&&se&&se.parentNode&&se.parentNode.removeChild(se),E&&(this.nativeDraggable&&K(E,"dragend",this),bn(E),E.style["will-change"]="",yt&&!ht&&De(E,Se?Se.options.ghostClass:this.options.ghostClass,!1),De(E,this.options.chosenClass,!1),Ae({sortable:this,name:"unchoose",toEl:ce,newIndex:null,newDraggableIndex:null,originalEvent:e}),ie!==ce?(Re>=0&&(Ae({rootEl:ce,name:"add",toEl:ce,fromEl:ie,originalEvent:e}),Ae({sortable:this,name:"remove",toEl:ce,originalEvent:e}),Ae({rootEl:ce,name:"sort",toEl:ce,fromEl:ie,originalEvent:e}),Ae({sortable:this,name:"sort",toEl:ce,originalEvent:e})),Se&&Se.save()):Re!==bt&&Re>=0&&(Ae({sortable:this,name:"update",toEl:ce,originalEvent:e}),Ae({sortable:this,name:"sort",toEl:ce,originalEvent:e})),P.active&&((Re==null||Re===-1)&&(Re=bt,Qe=At),Ae({sortable:this,name:"end",toEl:ce,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Ie("nulling",this),ie=E=ce=V=ut=se=Wt=at=st=Be=yt=Re=Qe=bt=At=pt=It=Se=Ft=P.dragged=P.ghost=P.clone=P.active=null,en.forEach(function(e){e.checked=!0}),en.length=pn=hn=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":E&&(this._onDragOver(e),io(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],a,n=this.el.children,r=0,i=n.length,l=this.options;r<i;r++)a=n[r],Ue(a,l.draggable,this.el,!1)&&e.push(a.getAttribute(l.dataIdAttr)||go(a));return e},sort:function(e,a){var n={},r=this.el;this.toArray().forEach(function(i,l){var s=r.children[l];Ue(s,this.options.draggable,r,!1)&&(n[i]=s)},this),a&&this.captureAnimationState(),e.forEach(function(i){n[i]&&(r.removeChild(n[i]),r.appendChild(n[i]))}),a&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,a){return Ue(e,a||this.options.draggable,this.el,!1)},option:function(e,a){var n=this.options;if(a===void 0)return n[e];var r=Rt.modifyOption(this,e,a);typeof r<"u"?n[e]=r:n[e]=a,e==="group"&&Ea(n)},destroy:function(){Ie("destroy",this);var e=this.el;e[Ce]=null,K(e,"mousedown",this._onTapStart),K(e,"touchstart",this._onTapStart),K(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(K(e,"dragover",this),K(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Qt.splice(Qt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!at){if(Ie("hideClone",this),P.eventCanceled)return;L(se,"display","none"),this.options.removeCloneOnHide&&se.parentNode&&se.parentNode.removeChild(se),at=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(at){if(Ie("showClone",this),P.eventCanceled)return;E.parentNode==ie&&!this.options.group.revertClone?ie.insertBefore(se,E):ut?ie.insertBefore(se,ut):ie.appendChild(se),this.options.group.revertClone&&this.animate(E,se),L(se,"display",""),at=!1}}};function io(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Gt(t,e,a,n,r,i,l,s){var u,d=t[Ce],b=d.options.onMove,h;return window.CustomEvent&&!Ke&&!Dt?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=e,u.from=t,u.dragged=a,u.draggedRect=n,u.related=r||e,u.relatedRect=i||be(e),u.willInsertAfter=s,u.originalEvent=l,t.dispatchEvent(u),b&&(h=b.call(d,u,l)),h}function bn(t){t.draggable=!1}function lo(){wn=!1}function so(t,e,a){var n=be(vt(a.el,0,a.options,!0)),r=ba(a.el,a.options,V),i=10;return e?t.clientX<r.left-i||t.clientY<n.top&&t.clientX<n.right:t.clientY<r.top-i||t.clientY<n.bottom&&t.clientX<n.left}function co(t,e,a){var n=be(Cn(a.el,a.options.draggable)),r=ba(a.el,a.options,V),i=10;return e?t.clientX>r.right+i||t.clientY>n.bottom&&t.clientX>n.left:t.clientY>r.bottom+i||t.clientX>n.right&&t.clientY>n.top}function uo(t,e,a,n,r,i,l,s){var u=n?t.clientY:t.clientX,d=n?a.height:a.width,b=n?a.top:a.left,h=n?a.bottom:a.right,S=!1;if(!l){if(s&&Xt<d*r){if(!Ct&&(It===1?u>b+d*i/2:u<h-d*i/2)&&(Ct=!0),Ct)S=!0;else if(It===1?u<b+Xt:u>h-Xt)return-It}else if(u>b+d*(1-r)/2&&u<h-d*(1-r)/2)return fo(e)}return S=S||l,S&&(u<b+d*i/2||u>h-d*i/2)?u>b+d/2?1:-1:0}function fo(t){return ke(E)<ke(t)?1:-1}function go(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,a=e.length,n=0;a--;)n+=e.charCodeAt(a);return n.toString(36)}function po(t){en.length=0;for(var e=t.getElementsByTagName("input"),a=e.length;a--;){var n=e[a];n.checked&&en.push(n)}}function Kt(t){return setTimeout(t,0)}function Nn(t){return clearTimeout(t)}an&&j(document,"touchmove",function(t){(P.active||ht)&&t.cancelable&&t.preventDefault()});P.utils={on:j,off:K,css:L,find:ga,is:function(e,a){return!!Ue(e,a,e,!1)},extend:Kr,throttle:pa,closest:Ue,toggleClass:De,clone:ma,index:ke,nextTick:Kt,cancelNextTick:Nn,detectDirection:va,getChild:vt,expando:Ce};P.get=function(t){return t[Ce]};P.mount=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(P.utils=Ge(Ge({},P.utils),n.utils)),Rt.mount(n)})};P.create=function(t,e){return new P(t,e)};P.version=Wr;var me=[],St,Tn,On=!1,_n,vn,tn,wt;function ho(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(a){var n=a.originalEvent;this.sortable.nativeDraggable?j(document,"dragover",this._handleAutoScroll):this.options.supportPointer?j(document,"pointermove",this._handleFallbackAutoScroll):n.touches?j(document,"touchmove",this._handleFallbackAutoScroll):j(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(a){var n=a.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?K(document,"dragover",this._handleAutoScroll):(K(document,"pointermove",this._handleFallbackAutoScroll),K(document,"touchmove",this._handleFallbackAutoScroll),K(document,"mousemove",this._handleFallbackAutoScroll)),oa(),Zt(),Zr()},nulling:function(){tn=Tn=St=On=wt=_n=vn=null,me.length=0},_handleFallbackAutoScroll:function(a){this._handleAutoScroll(a,!0)},_handleAutoScroll:function(a,n){var r=this,i=(a.touches?a.touches[0]:a).clientX,l=(a.touches?a.touches[0]:a).clientY,s=document.elementFromPoint(i,l);if(tn=a,n||this.options.forceAutoScrollFallback||Dt||Ke||Tt){En(a,this.options,s,n);var u=rt(s,!0);On&&(!wt||i!==_n||l!==vn)&&(wt&&oa(),wt=setInterval(function(){var d=rt(document.elementFromPoint(i,l),!0);d!==u&&(u=d,Zt()),En(a,r.options,d,n)},10),_n=i,vn=l)}else{if(!this.options.bubbleScroll||rt(s,!0)===ze()){Zt();return}En(a,this.options,rt(s,!1),!1)}}},We(t,{pluginName:"scroll",initializeByDefault:!0})}function Zt(){me.forEach(function(t){clearInterval(t.pid)}),me=[]}function oa(){clearInterval(wt)}var En=pa(function(t,e,a,n){if(e.scroll){var r=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,l=e.scrollSensitivity,s=e.scrollSpeed,u=ze(),d=!1,b;Tn!==a&&(Tn=a,Zt(),St=e.scroll,b=e.scrollFn,St===!0&&(St=rt(a,!0)));var h=0,S=St;do{var O=S,_=be(O),f=_.top,k=_.bottom,N=_.left,m=_.right,q=_.width,J=_.height,U=void 0,z=void 0,X=O.scrollWidth,Q=O.scrollHeight,I=L(O),B=O.scrollLeft,A=O.scrollTop;O===u?(U=q<X&&(I.overflowX==="auto"||I.overflowX==="scroll"||I.overflowX==="visible"),z=J<Q&&(I.overflowY==="auto"||I.overflowY==="scroll"||I.overflowY==="visible")):(U=q<X&&(I.overflowX==="auto"||I.overflowX==="scroll"),z=J<Q&&(I.overflowY==="auto"||I.overflowY==="scroll"));var ee=U&&(Math.abs(m-r)<=l&&B+q<X)-(Math.abs(N-r)<=l&&!!B),ne=z&&(Math.abs(k-i)<=l&&A+J<Q)-(Math.abs(f-i)<=l&&!!A);if(!me[h])for(var oe=0;oe<=h;oe++)me[oe]||(me[oe]={});(me[h].vx!=ee||me[h].vy!=ne||me[h].el!==O)&&(me[h].el=O,me[h].vx=ee,me[h].vy=ne,clearInterval(me[h].pid),(ee!=0||ne!=0)&&(d=!0,me[h].pid=setInterval((function(){n&&this.layer===0&&P.active._onTouchMove(tn);var we=me[this.layer].vy?me[this.layer].vy*s:0,de=me[this.layer].vx?me[this.layer].vx*s:0;typeof b=="function"&&b.call(P.dragged.parentNode[Ce],de,we,t,tn,me[this.layer].el)!=="continue"||ha(me[this.layer].el,de,we)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&S!==u&&(S=rt(S,!1)));On=d}},30),wa=function(e){var a=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,l=e.dispatchSortableEvent,s=e.hideGhostForTarget,u=e.unhideGhostForTarget;if(a){var d=n||i;s();var b=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,h=document.elementFromPoint(b.clientX,b.clientY);u(),d&&!d.el.contains(h)&&(l("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function xn(){}xn.prototype={startIndex:null,dragStart:function(e){var a=e.oldDraggableIndex;this.startIndex=a},onSpill:function(e){var a=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=vt(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(a,r):this.sortable.el.appendChild(a),this.sortable.animateAll(),n&&n.animateAll()},drop:wa};We(xn,{pluginName:"revertOnSpill"});function Dn(){}Dn.prototype={onSpill:function(e){var a=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),a.parentNode&&a.parentNode.removeChild(a),r.animateAll()},drop:wa};We(Dn,{pluginName:"removeOnSpill"});P.mount(new ho);P.mount(Dn,xn);const mo=xt({__name:"edit",emits:["refreshPage"],setup(t,{expose:e,emit:a}){const n=ue(),r=ue(),i=ue(),l=ue(),s=ue(),u=a,d=ue(!1),b=ue(),h=ue(),S=ue([]),O=ue(),_=ue([]),f=qe([{label:"DEFAULT",value:"DEFAULT"},{label:"INSERT",value:"INSERT"},{label:"UPDATE",value:"UPDATE"},{label:"INSERT_UPDATE",value:"INSERT_UPDATE"}]),k=qe([{label:"=",value:"="},{label:"!=",value:"!="},{label:">",value:">"},{label:">=",value:">="},{label:"<",value:"<"},{label:"<=",value:"<="},{label:"like",value:"like"},{label:"left like",value:"left like"},{label:"right like",value:"right like"},{label:"between",value:"between"}]),N=qe([{label:"单行文本",value:"text"},{label:"多行文本",value:"textarea"},{label:"富文本编辑器",value:"editor"},{label:"下拉框",value:"select"},{label:"单选按钮",value:"radio"},{label:"复选框",value:"checkbox"},{label:"日期",value:"date"},{label:"日期时间",value:"datetime"}]),m=Q=>{var I,B,A;Q.paneName!=="field"&&((I=i.value)==null||I.loadData(_.value),(B=l.value)==null||B.loadData(_.value),(A=s.value)==null||A.loadData(_.value))},q=Q=>{d.value=!0,O.value=Q,b.value&&b.value.resetFields(),n.value="field",J(),U(Q),z()},J=()=>{Tr(()=>{const Q=document.querySelector(".body--wrapper>.vxe-table--body tbody");h.value=P.create(Q,{handle:".drag-btn",onEnd:I=>{const{newIndex:B,oldIndex:A}=I,ee=_.value.splice(A,1)[0];_.value.splice(B,0,ee)}})})},U=Q=>{ca(Q).then(I=>{_.value=I.data.fieldList})},z=async()=>{S.value=[];const{data:Q}=await kr();Q.forEach(I=>S.value.push({label:I,value:I})),S.value.push({label:"Object",value:"Object"})},X=()=>{Fr(O.value,_.value).then(()=>{d.value=!1,u("refreshPage"),Ve.success("操作成功")})};return e({init:q}),(Q,I)=>{const B=H("vxe-column"),A=H("el-tooltip"),ee=H("vxe-option"),ne=H("vxe-select"),oe=H("vxe-checkbox"),we=H("vxe-table"),de=H("el-tab-pane"),Me=H("el-tabs"),Y=H("el-button"),_e=H("el-drawer");return le(),Oe(_e,{modelValue:d.value,"onUpdate:modelValue":I[3]||(I[3]=M=>d.value=M),size:1200,"with-header":!1},{footer:p(()=>[c(Y,{onClick:I[1]||(I[1]=M=>d.value=!1)},{default:p(()=>I[6]||(I[6]=[pe("取消")])),_:1}),c(Y,{type:"primary",onClick:I[2]||(I[2]=M=>X())},{default:p(()=>I[7]||(I[7]=[pe("确定")])),_:1})]),default:p(()=>[c(Me,{modelValue:n.value,"onUpdate:modelValue":I[0]||(I[0]=M=>n.value=M),onTabClick:m},{default:p(()=>[c(de,{label:"属性设置",name:"field"},{default:p(()=>[c(we,{ref_key:"fieldTable",ref:r,border:"","row-key":"",class:"sortable-row-gen",data:_.value,"checkbox-config":{checkStrictly:!0},"edit-config":{trigger:"click",mode:"cell"}},{default:p(()=>[c(B,{type:"seq",width:"60"}),c(B,{title:"拖动",width:"60"},{default:p(()=>I[4]||(I[4]=[Nt("span",{class:"drag-btn"},[Nt("i",{class:"vxe-icon-sort"})],-1)])),header:p(()=>[c(A,{class:"item",effect:"dark",content:"按住后可以上下拖动排序",placement:"top-start"},{default:p(()=>I[5]||(I[5]=[Nt("i",{class:"vxe-icon-question-circle-fill"},null,-1)])),_:1})]),_:1}),c(B,{field:"fieldName",title:"字段名"}),c(B,{field:"fieldComment",title:"说明","edit-render":{name:"input"}}),c(B,{field:"fieldType",title:"字段类型"}),c(B,{field:"attrName",title:"属性名","edit-render":{name:"input"}}),c(B,{field:"attrType",title:"属性类型"},{default:p(({row:M})=>[c(ne,{modelValue:M.attrType,"onUpdate:modelValue":D=>M.attrType=D},{default:p(()=>[(le(!0),et(nt,null,tt(S.value,D=>(le(),Oe(ee,{key:D.value,value:D.value,label:D.label},null,8,["value","label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),c(B,{field:"autoFill",title:"自动填充"},{default:p(({row:M})=>[c(ne,{modelValue:M.autoFill,"onUpdate:modelValue":D=>M.autoFill=D},{default:p(()=>[(le(!0),et(nt,null,tt(f,D=>(le(),Oe(ee,{key:D.value,value:D.value,label:D.label},null,8,["value","label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),c(B,{field:"primaryKey",title:"主键"},{default:p(({row:M})=>[c(oe,{modelValue:M.primaryKey,"onUpdate:modelValue":D=>M.primaryKey=D},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])]),_:1}),c(de,{label:"表单配置",name:"form"},{default:p(()=>[c(we,{ref_key:"formTable",ref:i,border:"","row-key":"",data:_.value,"checkbox-config":{checkStrictly:!0},"edit-config":{trigger:"click",mode:"cell"}},{default:p(()=>[c(B,{field:"attrName",title:"属性名"}),c(B,{field:"fieldComment",title:"说明"}),c(B,{field:"formItem",title:"表单显示"},{default:p(({row:M})=>[c(oe,{modelValue:M.formItem,"onUpdate:modelValue":D=>M.formItem=D},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),c(B,{field:"formRequired",title:"表单必填"},{default:p(({row:M})=>[c(oe,{modelValue:M.formRequired,"onUpdate:modelValue":D=>M.formRequired=D},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),c(B,{field:"formValidator",title:"表单校验","edit-render":{name:"input"}}),c(B,{field:"formItemType",title:"表单类型"},{default:p(({row:M})=>[c(ne,{modelValue:M.formItemType,"onUpdate:modelValue":D=>M.formItemType=D},{default:p(()=>[(le(!0),et(nt,null,tt(N,D=>(le(),Oe(ee,{key:D.value,value:D.value,label:D.label},null,8,["value","label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),c(B,{field:"formDict",title:"表单字典类型","edit-render":{name:"input"}})]),_:1},8,["data"])]),_:1}),c(de,{label:"列表配置",name:"grid"},{default:p(()=>[c(we,{ref_key:"gridTable",ref:l,border:"","row-key":"",data:_.value,"checkbox-config":{checkStrictly:!0},"edit-config":{trigger:"click",mode:"cell"}},{default:p(()=>[c(B,{field:"attrName",title:"属性名"}),c(B,{field:"fieldComment",title:"说明"}),c(B,{field:"gridItem",title:"列表显示"},{default:p(({row:M})=>[c(oe,{modelValue:M.gridItem,"onUpdate:modelValue":D=>M.gridItem=D},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),c(B,{field:"gridSort",title:"列表排序"},{default:p(({row:M})=>[c(oe,{modelValue:M.gridSort,"onUpdate:modelValue":D=>M.gridSort=D},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])]),_:1}),c(de,{label:"查询配置",name:"query"},{default:p(()=>[c(we,{ref_key:"queryTable",ref:s,border:"","row-key":"",data:_.value,"checkbox-config":{checkStrictly:!0},"edit-config":{trigger:"click",mode:"cell"}},{default:p(()=>[c(B,{field:"attrName",title:"属性名"}),c(B,{field:"fieldComment",title:"说明"}),c(B,{field:"queryItem",title:"查询显示"},{default:p(({row:M})=>[c(oe,{modelValue:M.queryItem,"onUpdate:modelValue":D=>M.queryItem=D},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),c(B,{field:"queryType",title:"查询方式"},{default:p(({row:M})=>[c(ne,{modelValue:M.queryType,"onUpdate:modelValue":D=>M.queryType=D},{default:p(()=>[(le(!0),et(nt,null,tt(k,D=>(le(),Oe(ee,{key:D.value,value:D.value,label:D.label},null,8,["value","label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),c(B,{field:"queryFormType",title:"查询表单类型"},{default:p(({row:M})=>[c(ne,{modelValue:M.queryFormType,"onUpdate:modelValue":D=>M.queryFormType=D},{default:p(()=>[(le(!0),et(nt,null,tt(N,D=>(le(),Oe(ee,{key:D.value,value:D.value,label:D.label},null,8,["value","label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])}}}),bo=t=>Xe.get(`/gen/generator/preview/${t}`),Na=t=>{Lr.post("/gen/generator/download",t)},_o=t=>Xe.post("/gen/generator/custom",t);var yn,ia;function vo(){if(ia)return yn;ia=1;function t(o){return o instanceof Map?o.clear=o.delete=o.set=function(){throw new Error("map is read-only")}:o instanceof Set&&(o.add=o.clear=o.delete=function(){throw new Error("set is read-only")}),Object.freeze(o),Object.getOwnPropertyNames(o).forEach(g=>{const y=o[g],F=typeof y;(F==="object"||F==="function")&&!Object.isFrozen(y)&&t(y)}),o}class e{constructor(g){g.data===void 0&&(g.data={}),this.data=g.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function a(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function n(o,...g){const y=Object.create(null);for(const F in o)y[F]=o[F];return g.forEach(function(F){for(const fe in F)y[fe]=F[fe]}),y}const r="</span>",i=o=>!!o.scope,l=(o,{prefix:g})=>{if(o.startsWith("language:"))return o.replace("language:","language-");if(o.includes(".")){const y=o.split(".");return[`${g}${y.shift()}`,...y.map((F,fe)=>`${F}${"_".repeat(fe+1)}`)].join(" ")}return`${g}${o}`};class s{constructor(g,y){this.buffer="",this.classPrefix=y.classPrefix,g.walk(this)}addText(g){this.buffer+=a(g)}openNode(g){if(!i(g))return;const y=l(g.scope,{prefix:this.classPrefix});this.span(y)}closeNode(g){i(g)&&(this.buffer+=r)}value(){return this.buffer}span(g){this.buffer+=`<span class="${g}">`}}const u=(o={})=>{const g={children:[]};return Object.assign(g,o),g};class d{constructor(){this.rootNode=u(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(g){this.top.children.push(g)}openNode(g){const y=u({scope:g});this.add(y),this.stack.push(y)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(g){return this.constructor._walk(g,this.rootNode)}static _walk(g,y){return typeof y=="string"?g.addText(y):y.children&&(g.openNode(y),y.children.forEach(F=>this._walk(g,F)),g.closeNode(y)),g}static _collapse(g){typeof g!="string"&&g.children&&(g.children.every(y=>typeof y=="string")?g.children=[g.children.join("")]:g.children.forEach(y=>{d._collapse(y)}))}}class b extends d{constructor(g){super(),this.options=g}addText(g){g!==""&&this.add(g)}startScope(g){this.openNode(g)}endScope(){this.closeNode()}__addSublanguage(g,y){const F=g.root;y&&(F.scope=`language:${y}`),this.add(F)}toHTML(){return new s(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function h(o){return o?typeof o=="string"?o:o.source:null}function S(o){return f("(?=",o,")")}function O(o){return f("(?:",o,")*")}function _(o){return f("(?:",o,")?")}function f(...o){return o.map(y=>h(y)).join("")}function k(o){const g=o[o.length-1];return typeof g=="object"&&g.constructor===Object?(o.splice(o.length-1,1),g):{}}function N(...o){return"("+(k(o).capture?"":"?:")+o.map(F=>h(F)).join("|")+")"}function m(o){return new RegExp(o.toString()+"|").exec("").length-1}function q(o,g){const y=o&&o.exec(g);return y&&y.index===0}const J=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function U(o,{joinWith:g}){let y=0;return o.map(F=>{y+=1;const fe=y;let ge=h(F),C="";for(;ge.length>0;){const T=J.exec(ge);if(!T){C+=ge;break}C+=ge.substring(0,T.index),ge=ge.substring(T.index+T[0].length),T[0][0]==="\\"&&T[1]?C+="\\"+String(Number(T[1])+fe):(C+=T[0],T[0]==="("&&y++)}return C}).map(F=>`(${F})`).join(g)}const z=/\b\B/,X="[a-zA-Z]\\w*",Q="[a-zA-Z_]\\w*",I="\\b\\d+(\\.\\d+)?",B="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",A="\\b(0b[01]+)",ee="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",ne=(o={})=>{const g=/^#![ ]*\//;return o.binary&&(o.begin=f(g,/.*\b/,o.binary,/\b.*/)),n({scope:"meta",begin:g,end:/$/,relevance:0,"on:begin":(y,F)=>{y.index!==0&&F.ignoreMatch()}},o)},oe={begin:"\\\\[\\s\\S]",relevance:0},we={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[oe]},de={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[oe]},Me={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Y=function(o,g,y={}){const F=n({scope:"comment",begin:o,end:g,contains:[]},y);F.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const fe=N("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return F.contains.push({begin:f(/[ ]+/,"(",fe,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),F},_e=Y("//","$"),M=Y("/\\*","\\*/"),D=Y("#","$"),Le={scope:"number",begin:I,relevance:0},ot={scope:"number",begin:B,relevance:0},Pa={scope:"number",begin:A,relevance:0},Ba={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[oe,{begin:/\[/,end:/\]/,relevance:0,contains:[oe]}]},Ua={scope:"title",begin:X,relevance:0},$a={scope:"title",begin:Q,relevance:0},Fa={begin:"\\.\\s*"+Q,relevance:0};var Mt=Object.freeze({__proto__:null,APOS_STRING_MODE:we,BACKSLASH_ESCAPE:oe,BINARY_NUMBER_MODE:Pa,BINARY_NUMBER_RE:A,COMMENT:Y,C_BLOCK_COMMENT_MODE:M,C_LINE_COMMENT_MODE:_e,C_NUMBER_MODE:ot,C_NUMBER_RE:B,END_SAME_AS_BEGIN:function(o){return Object.assign(o,{"on:begin":(g,y)=>{y.data._beginMatch=g[1]},"on:end":(g,y)=>{y.data._beginMatch!==g[1]&&y.ignoreMatch()}})},HASH_COMMENT_MODE:D,IDENT_RE:X,MATCH_NOTHING_RE:z,METHOD_GUARD:Fa,NUMBER_MODE:Le,NUMBER_RE:I,PHRASAL_WORDS_MODE:Me,QUOTE_STRING_MODE:de,REGEXP_MODE:Ba,RE_STARTERS_RE:ee,SHEBANG:ne,TITLE_MODE:Ua,UNDERSCORE_IDENT_RE:Q,UNDERSCORE_TITLE_MODE:$a});function Va(o,g){o.input[o.index-1]==="."&&g.ignoreMatch()}function za(o,g){o.className!==void 0&&(o.scope=o.className,delete o.className)}function Ga(o,g){g&&o.beginKeywords&&(o.begin="\\b("+o.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",o.__beforeBegin=Va,o.keywords=o.keywords||o.beginKeywords,delete o.beginKeywords,o.relevance===void 0&&(o.relevance=0))}function Ha(o,g){Array.isArray(o.illegal)&&(o.illegal=N(...o.illegal))}function qa(o,g){if(o.match){if(o.begin||o.end)throw new Error("begin & end are not supported with match");o.begin=o.match,delete o.match}}function Ya(o,g){o.relevance===void 0&&(o.relevance=1)}const Wa=(o,g)=>{if(!o.beforeMatch)return;if(o.starts)throw new Error("beforeMatch cannot be used with starts");const y=Object.assign({},o);Object.keys(o).forEach(F=>{delete o[F]}),o.keywords=y.keywords,o.begin=f(y.beforeMatch,S(y.begin)),o.starts={relevance:0,contains:[Object.assign(y,{endsParent:!0})]},o.relevance=0,delete y.beforeMatch},Xa=["of","and","for","in","not","or","if","then","parent","list","value"],Ka="keyword";function Rn(o,g,y=Ka){const F=Object.create(null);return typeof o=="string"?fe(y,o.split(" ")):Array.isArray(o)?fe(y,o):Object.keys(o).forEach(function(ge){Object.assign(F,Rn(o[ge],g,ge))}),F;function fe(ge,C){g&&(C=C.map(T=>T.toLowerCase())),C.forEach(function(T){const $=T.split("|");F[$[0]]=[ge,Za($[0],$[1])]})}}function Za(o,g){return g?Number(g):ja(o)?0:1}function ja(o){return Xa.includes(o.toLowerCase())}const Mn={},it=o=>{console.error(o)},kn=(o,...g)=>{console.log(`WARN: ${o}`,...g)},dt=(o,g)=>{Mn[`${o}/${g}`]||(console.log(`Deprecated as of ${o}. ${g}`),Mn[`${o}/${g}`]=!0)},kt=new Error;function Ln(o,g,{key:y}){let F=0;const fe=o[y],ge={},C={};for(let T=1;T<=g.length;T++)C[T+F]=fe[T],ge[T+F]=!0,F+=m(g[T-1]);o[y]=C,o[y]._emit=ge,o[y]._multi=!0}function Ja(o){if(Array.isArray(o.begin)){if(o.skip||o.excludeBegin||o.returnBegin)throw it("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),kt;if(typeof o.beginScope!="object"||o.beginScope===null)throw it("beginScope must be object"),kt;Ln(o,o.begin,{key:"beginScope"}),o.begin=U(o.begin,{joinWith:""})}}function Qa(o){if(Array.isArray(o.end)){if(o.skip||o.excludeEnd||o.returnEnd)throw it("skip, excludeEnd, returnEnd not compatible with endScope: {}"),kt;if(typeof o.endScope!="object"||o.endScope===null)throw it("endScope must be object"),kt;Ln(o,o.end,{key:"endScope"}),o.end=U(o.end,{joinWith:""})}}function er(o){o.scope&&typeof o.scope=="object"&&o.scope!==null&&(o.beginScope=o.scope,delete o.scope)}function tr(o){er(o),typeof o.beginScope=="string"&&(o.beginScope={_wrap:o.beginScope}),typeof o.endScope=="string"&&(o.endScope={_wrap:o.endScope}),Ja(o),Qa(o)}function nr(o){function g(C,T){return new RegExp(h(C),"m"+(o.case_insensitive?"i":"")+(o.unicodeRegex?"u":"")+(T?"g":""))}class y{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(T,$){$.position=this.position++,this.matchIndexes[this.matchAt]=$,this.regexes.push([$,T]),this.matchAt+=m(T)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const T=this.regexes.map($=>$[1]);this.matcherRe=g(U(T,{joinWith:"|"}),!0),this.lastIndex=0}exec(T){this.matcherRe.lastIndex=this.lastIndex;const $=this.matcherRe.exec(T);if(!$)return null;const Ee=$.findIndex((Et,on)=>on>0&&Et!==void 0),he=this.matchIndexes[Ee];return $.splice(0,Ee),Object.assign($,he)}}class F{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(T){if(this.multiRegexes[T])return this.multiRegexes[T];const $=new y;return this.rules.slice(T).forEach(([Ee,he])=>$.addRule(Ee,he)),$.compile(),this.multiRegexes[T]=$,$}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(T,$){this.rules.push([T,$]),$.type==="begin"&&this.count++}exec(T){const $=this.getMatcher(this.regexIndex);$.lastIndex=this.lastIndex;let Ee=$.exec(T);if(this.resumingScanAtSamePosition()&&!(Ee&&Ee.index===this.lastIndex)){const he=this.getMatcher(0);he.lastIndex=this.lastIndex+1,Ee=he.exec(T)}return Ee&&(this.regexIndex+=Ee.position+1,this.regexIndex===this.count&&this.considerAll()),Ee}}function fe(C){const T=new F;return C.contains.forEach($=>T.addRule($.begin,{rule:$,type:"begin"})),C.terminatorEnd&&T.addRule(C.terminatorEnd,{type:"end"}),C.illegal&&T.addRule(C.illegal,{type:"illegal"}),T}function ge(C,T){const $=C;if(C.isCompiled)return $;[za,qa,tr,Wa].forEach(he=>he(C,T)),o.compilerExtensions.forEach(he=>he(C,T)),C.__beforeBegin=null,[Ga,Ha,Ya].forEach(he=>he(C,T)),C.isCompiled=!0;let Ee=null;return typeof C.keywords=="object"&&C.keywords.$pattern&&(C.keywords=Object.assign({},C.keywords),Ee=C.keywords.$pattern,delete C.keywords.$pattern),Ee=Ee||/\w+/,C.keywords&&(C.keywords=Rn(C.keywords,o.case_insensitive)),$.keywordPatternRe=g(Ee,!0),T&&(C.begin||(C.begin=/\B|\b/),$.beginRe=g($.begin),!C.end&&!C.endsWithParent&&(C.end=/\B|\b/),C.end&&($.endRe=g($.end)),$.terminatorEnd=h($.end)||"",C.endsWithParent&&T.terminatorEnd&&($.terminatorEnd+=(C.end?"|":"")+T.terminatorEnd)),C.illegal&&($.illegalRe=g(C.illegal)),C.contains||(C.contains=[]),C.contains=[].concat(...C.contains.map(function(he){return ar(he==="self"?C:he)})),C.contains.forEach(function(he){ge(he,$)}),C.starts&&ge(C.starts,T),$.matcher=fe($),$}if(o.compilerExtensions||(o.compilerExtensions=[]),o.contains&&o.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return o.classNameAliases=n(o.classNameAliases||{}),ge(o)}function Pn(o){return o?o.endsWithParent||Pn(o.starts):!1}function ar(o){return o.variants&&!o.cachedVariants&&(o.cachedVariants=o.variants.map(function(g){return n(o,{variants:null},g)})),o.cachedVariants?o.cachedVariants:Pn(o)?n(o,{starts:o.starts?n(o.starts):null}):Object.isFrozen(o)?n(o):o}var rr="11.11.1";class or extends Error{constructor(g,y){super(g),this.name="HTMLInjectionError",this.html=y}}const rn=a,Bn=n,Un=Symbol("nomatch"),ir=7,$n=function(o){const g=Object.create(null),y=Object.create(null),F=[];let fe=!0;const ge="Could not find the language '{}', did you forget to load/include a language module?",C={disableAutodetect:!0,name:"Plain text",contains:[]};let T={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:b};function $(v){return T.noHighlightRe.test(v)}function Ee(v){let R=v.className+" ";R+=v.parentNode?v.parentNode.className:"";const Z=T.languageDetectRe.exec(R);if(Z){const ae=Ze(Z[1]);return ae||(kn(ge.replace("{}",Z[1])),kn("Falling back to no-highlight mode for this block.",v)),ae?Z[1]:"no-highlight"}return R.split(/\s+/).find(ae=>$(ae)||Ze(ae))}function he(v,R,Z){let ae="",ve="";typeof R=="object"?(ae=v,Z=R.ignoreIllegals,ve=R.language):(dt("10.7.0","highlight(lang, code, ...args) has been deprecated."),dt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),ve=v,ae=R),Z===void 0&&(Z=!0);const Pe={code:ae,language:ve};Pt("before:highlight",Pe);const je=Pe.result?Pe.result:Et(Pe.language,Pe.code,Z);return je.code=Pe.code,Pt("after:highlight",je),je}function Et(v,R,Z,ae){const ve=Object.create(null);function Pe(w,x){return w.keywords[x]}function je(){if(!G.keywords){ye.addText(re);return}let w=0;G.keywordPatternRe.lastIndex=0;let x=G.keywordPatternRe.exec(re),W="";for(;x;){W+=re.substring(w,x.index);const te=Fe.case_insensitive?x[0].toLowerCase():x[0],Ne=Pe(G,te);if(Ne){const[He,wr]=Ne;if(ye.addText(W),W="",ve[te]=(ve[te]||0)+1,ve[te]<=ir&&($t+=wr),He.startsWith("_"))W+=x[0];else{const Nr=Fe.classNameAliases[He]||He;$e(x[0],Nr)}}else W+=x[0];w=G.keywordPatternRe.lastIndex,x=G.keywordPatternRe.exec(re)}W+=re.substring(w),ye.addText(W)}function Bt(){if(re==="")return;let w=null;if(typeof G.subLanguage=="string"){if(!g[G.subLanguage]){ye.addText(re);return}w=Et(G.subLanguage,re,!0,Wn[G.subLanguage]),Wn[G.subLanguage]=w._top}else w=ln(re,G.subLanguage.length?G.subLanguage:null);G.relevance>0&&($t+=w.relevance),ye.__addSublanguage(w._emitter,w.language)}function xe(){G.subLanguage!=null?Bt():je(),re=""}function $e(w,x){w!==""&&(ye.startScope(x),ye.addText(w),ye.endScope())}function Gn(w,x){let W=1;const te=x.length-1;for(;W<=te;){if(!w._emit[W]){W++;continue}const Ne=Fe.classNameAliases[w[W]]||w[W],He=x[W];Ne?$e(He,Ne):(re=He,je(),re=""),W++}}function Hn(w,x){return w.scope&&typeof w.scope=="string"&&ye.openNode(Fe.classNameAliases[w.scope]||w.scope),w.beginScope&&(w.beginScope._wrap?($e(re,Fe.classNameAliases[w.beginScope._wrap]||w.beginScope._wrap),re=""):w.beginScope._multi&&(Gn(w.beginScope,x),re="")),G=Object.create(w,{parent:{value:G}}),G}function qn(w,x,W){let te=q(w.endRe,W);if(te){if(w["on:end"]){const Ne=new e(w);w["on:end"](x,Ne),Ne.isMatchIgnored&&(te=!1)}if(te){for(;w.endsParent&&w.parent;)w=w.parent;return w}}if(w.endsWithParent)return qn(w.parent,x,W)}function _r(w){return G.matcher.regexIndex===0?(re+=w[0],1):(dn=!0,0)}function vr(w){const x=w[0],W=w.rule,te=new e(W),Ne=[W.__beforeBegin,W["on:begin"]];for(const He of Ne)if(He&&(He(w,te),te.isMatchIgnored))return _r(x);return W.skip?re+=x:(W.excludeBegin&&(re+=x),xe(),!W.returnBegin&&!W.excludeBegin&&(re=x)),Hn(W,w),W.returnBegin?0:x.length}function Er(w){const x=w[0],W=R.substring(w.index),te=qn(G,w,W);if(!te)return Un;const Ne=G;G.endScope&&G.endScope._wrap?(xe(),$e(x,G.endScope._wrap)):G.endScope&&G.endScope._multi?(xe(),Gn(G.endScope,w)):Ne.skip?re+=x:(Ne.returnEnd||Ne.excludeEnd||(re+=x),xe(),Ne.excludeEnd&&(re=x));do G.scope&&ye.closeNode(),!G.skip&&!G.subLanguage&&($t+=G.relevance),G=G.parent;while(G!==te.parent);return te.starts&&Hn(te.starts,w),Ne.returnEnd?0:x.length}function yr(){const w=[];for(let x=G;x!==Fe;x=x.parent)x.scope&&w.unshift(x.scope);w.forEach(x=>ye.openNode(x))}let Ut={};function Yn(w,x){const W=x&&x[0];if(re+=w,W==null)return xe(),0;if(Ut.type==="begin"&&x.type==="end"&&Ut.index===x.index&&W===""){if(re+=R.slice(x.index,x.index+1),!fe){const te=new Error(`0 width match regex (${v})`);throw te.languageName=v,te.badRule=Ut.rule,te}return 1}if(Ut=x,x.type==="begin")return vr(x);if(x.type==="illegal"&&!Z){const te=new Error('Illegal lexeme "'+W+'" for mode "'+(G.scope||"<unnamed>")+'"');throw te.mode=G,te}else if(x.type==="end"){const te=Er(x);if(te!==Un)return te}if(x.type==="illegal"&&W==="")return re+=`
`,1;if(un>1e5&&un>x.index*3)throw new Error("potential infinite loop, way more iterations than matches");return re+=W,W.length}const Fe=Ze(v);if(!Fe)throw it(ge.replace("{}",v)),new Error('Unknown language: "'+v+'"');const Sr=nr(Fe);let cn="",G=ae||Sr;const Wn={},ye=new T.__emitter(T);yr();let re="",$t=0,lt=0,un=0,dn=!1;try{if(Fe.__emitTokens)Fe.__emitTokens(R,ye);else{for(G.matcher.considerAll();;){un++,dn?dn=!1:G.matcher.considerAll(),G.matcher.lastIndex=lt;const w=G.matcher.exec(R);if(!w)break;const x=R.substring(lt,w.index),W=Yn(x,w);lt=w.index+W}Yn(R.substring(lt))}return ye.finalize(),cn=ye.toHTML(),{language:v,value:cn,relevance:$t,illegal:!1,_emitter:ye,_top:G}}catch(w){if(w.message&&w.message.includes("Illegal"))return{language:v,value:rn(R),illegal:!0,relevance:0,_illegalBy:{message:w.message,index:lt,context:R.slice(lt-100,lt+100),mode:w.mode,resultSoFar:cn},_emitter:ye};if(fe)return{language:v,value:rn(R),illegal:!1,relevance:0,errorRaised:w,_emitter:ye,_top:G};throw w}}function on(v){const R={value:rn(v),illegal:!1,relevance:0,_top:C,_emitter:new T.__emitter(T)};return R._emitter.addText(v),R}function ln(v,R){R=R||T.languages||Object.keys(g);const Z=on(v),ae=R.filter(Ze).filter(zn).map(xe=>Et(xe,v,!1));ae.unshift(Z);const ve=ae.sort((xe,$e)=>{if(xe.relevance!==$e.relevance)return $e.relevance-xe.relevance;if(xe.language&&$e.language){if(Ze(xe.language).supersetOf===$e.language)return 1;if(Ze($e.language).supersetOf===xe.language)return-1}return 0}),[Pe,je]=ve,Bt=Pe;return Bt.secondBest=je,Bt}function lr(v,R,Z){const ae=R&&y[R]||Z;v.classList.add("hljs"),v.classList.add(`language-${ae}`)}function sn(v){let R=null;const Z=Ee(v);if($(Z))return;if(Pt("before:highlightElement",{el:v,language:Z}),v.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",v);return}if(v.children.length>0&&(T.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(v)),T.throwUnescapedHTML))throw new or("One of your code blocks includes unescaped HTML.",v.innerHTML);R=v;const ae=R.textContent,ve=Z?he(ae,{language:Z,ignoreIllegals:!0}):ln(ae);v.innerHTML=ve.value,v.dataset.highlighted="yes",lr(v,Z,ve.language),v.result={language:ve.language,re:ve.relevance,relevance:ve.relevance},ve.secondBest&&(v.secondBest={language:ve.secondBest.language,relevance:ve.secondBest.relevance}),Pt("after:highlightElement",{el:v,result:ve,text:ae})}function sr(v){T=Bn(T,v)}const cr=()=>{Lt(),dt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function ur(){Lt(),dt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Fn=!1;function Lt(){function v(){Lt()}if(document.readyState==="loading"){Fn||window.addEventListener("DOMContentLoaded",v,!1),Fn=!0;return}document.querySelectorAll(T.cssSelector).forEach(sn)}function dr(v,R){let Z=null;try{Z=R(o)}catch(ae){if(it("Language definition for '{}' could not be registered.".replace("{}",v)),fe)it(ae);else throw ae;Z=C}Z.name||(Z.name=v),g[v]=Z,Z.rawDefinition=R.bind(null,o),Z.aliases&&Vn(Z.aliases,{languageName:v})}function fr(v){delete g[v];for(const R of Object.keys(y))y[R]===v&&delete y[R]}function gr(){return Object.keys(g)}function Ze(v){return v=(v||"").toLowerCase(),g[v]||g[y[v]]}function Vn(v,{languageName:R}){typeof v=="string"&&(v=[v]),v.forEach(Z=>{y[Z.toLowerCase()]=R})}function zn(v){const R=Ze(v);return R&&!R.disableAutodetect}function pr(v){v["before:highlightBlock"]&&!v["before:highlightElement"]&&(v["before:highlightElement"]=R=>{v["before:highlightBlock"](Object.assign({block:R.el},R))}),v["after:highlightBlock"]&&!v["after:highlightElement"]&&(v["after:highlightElement"]=R=>{v["after:highlightBlock"](Object.assign({block:R.el},R))})}function hr(v){pr(v),F.push(v)}function mr(v){const R=F.indexOf(v);R!==-1&&F.splice(R,1)}function Pt(v,R){const Z=v;F.forEach(function(ae){ae[Z]&&ae[Z](R)})}function br(v){return dt("10.7.0","highlightBlock will be removed entirely in v12.0"),dt("10.7.0","Please use highlightElement now."),sn(v)}Object.assign(o,{highlight:he,highlightAuto:ln,highlightAll:Lt,highlightElement:sn,highlightBlock:br,configure:sr,initHighlighting:cr,initHighlightingOnLoad:ur,registerLanguage:dr,unregisterLanguage:fr,listLanguages:gr,getLanguage:Ze,registerAliases:Vn,autoDetection:zn,inherit:Bn,addPlugin:hr,removePlugin:mr}),o.debugMode=function(){fe=!1},o.safeMode=function(){fe=!0},o.versionString=rr,o.regex={concat:f,lookahead:S,either:N,optional:_,anyNumberOfTimes:O};for(const v in Mt)typeof Mt[v]=="object"&&t(Mt[v]);return Object.assign(o,Mt),o},ft=$n({});return ft.newInstance=()=>$n({}),yn=ft,ft.HighlightJS=ft,ft.default=ft,yn}var Eo=vo();const Je=Or(Eo);function Sn(t){const e=t.regex,a=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),n=/[\p{L}0-9._:-]+/u,r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},l=t.inherit(i,{begin:/\(/,end:/\)/}),s=t.inherit(t.APOS_STRING_MODE,{className:"string"}),u=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),d={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:n,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,u,s,l,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,l,u,s]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[u]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[d],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[d],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(a,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:a,relevance:0,starts:d}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(a,/>/))),contains:[{className:"name",begin:a,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}const la="[A-Za-z$_][0-9A-Za-z$_]*",yo=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],So=["true","false","null","undefined","NaN","Infinity"],Ta=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Oa=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Aa=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],wo=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],No=[].concat(Aa,Ta,Oa);function To(t){const e=t.regex,a=(Y,{after:_e})=>{const M="</"+Y[0].slice(1);return Y.input.indexOf(M,_e)!==-1},n=la,r={begin:"<>",end:"</>"},i=/<[A-Za-z0-9\\._:-]+\s*\/>/,l={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(Y,_e)=>{const M=Y[0].length+Y.index,D=Y.input[M];if(D==="<"||D===","){_e.ignoreMatch();return}D===">"&&(a(Y,{after:M})||_e.ignoreMatch());let Le;const ot=Y.input.substring(M);if(Le=ot.match(/^\s*=/)){_e.ignoreMatch();return}if((Le=ot.match(/^\s+extends\s+/))&&Le.index===0){_e.ignoreMatch();return}}},s={$pattern:la,keyword:yo,literal:So,built_in:No,"variable.language":wo},u="[0-9](_?[0-9])*",d=`\\.(${u})`,b="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${b})((${d})|\\.)?|(${d}))[eE][+-]?(${u})\\b`},{begin:`\\b(${b})\\b((${d})\\b|\\.)?|(${d})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},S={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},O={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,S],subLanguage:"xml"}},_={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,S],subLanguage:"css"}},f={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,S],subLanguage:"graphql"}},k={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,S]},m={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},q=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,O,_,f,k,{match:/\$\d+/},h];S.contains=q.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(q)});const J=[].concat(m,S.contains),U=J.concat([{begin:/(\s*)\(/,end:/\)/,keywords:s,contains:["self"].concat(J)}]),z={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:U},X={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,e.concat(n,"(",e.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},Q={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Ta,...Oa]}},I={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},B={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[z],illegal:/%/},A={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ee(Y){return e.concat("(?!",Y.join("|"),")")}const ne={match:e.concat(/\b/,ee([...Aa,"super","import"].map(Y=>`${Y}\\s*\\(`)),n,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},oe={begin:e.concat(/\./,e.lookahead(e.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},we={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},z]},de="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",Me={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(de)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[z]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:U,CLASS_REFERENCE:Q},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),I,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,O,_,f,k,m,{match:/\$\d+/},h,Q,{scope:"attr",match:n+e.lookahead(":"),relevance:0},Me,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[m,t.REGEXP_MODE,{className:"function",begin:de,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:U}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r.begin,end:r.end},{match:i},{begin:l.begin,"on:begin":l.isTrulyOpeningTag,end:l.end}],subLanguage:"xml",contains:[{begin:l.begin,end:l.end,skip:!0,contains:["self"]}]}]},B,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[z,t.inherit(t.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},oe,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[z]},ne,A,X,we,{match:/\$[(.]/}]}}const nn="[A-Za-z$_][0-9A-Za-z$_]*",Ia=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Ca=["true","false","null","undefined","NaN","Infinity"],xa=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Da=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Ra=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Ma=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],ka=[].concat(Ra,xa,Da);function Oo(t){const e=t.regex,a=(Y,{after:_e})=>{const M="</"+Y[0].slice(1);return Y.input.indexOf(M,_e)!==-1},n=nn,r={begin:"<>",end:"</>"},i=/<[A-Za-z0-9\\._:-]+\s*\/>/,l={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(Y,_e)=>{const M=Y[0].length+Y.index,D=Y.input[M];if(D==="<"||D===","){_e.ignoreMatch();return}D===">"&&(a(Y,{after:M})||_e.ignoreMatch());let Le;const ot=Y.input.substring(M);if(Le=ot.match(/^\s*=/)){_e.ignoreMatch();return}if((Le=ot.match(/^\s+extends\s+/))&&Le.index===0){_e.ignoreMatch();return}}},s={$pattern:nn,keyword:Ia,literal:Ca,built_in:ka,"variable.language":Ma},u="[0-9](_?[0-9])*",d=`\\.(${u})`,b="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${b})((${d})|\\.)?|(${d}))[eE][+-]?(${u})\\b`},{begin:`\\b(${b})\\b((${d})\\b|\\.)?|(${d})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},S={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},O={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,S],subLanguage:"xml"}},_={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,S],subLanguage:"css"}},f={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,S],subLanguage:"graphql"}},k={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,S]},m={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},q=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,O,_,f,k,{match:/\$\d+/},h];S.contains=q.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(q)});const J=[].concat(m,S.contains),U=J.concat([{begin:/(\s*)\(/,end:/\)/,keywords:s,contains:["self"].concat(J)}]),z={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:U},X={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,e.concat(n,"(",e.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},Q={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...xa,...Da]}},I={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},B={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[z],illegal:/%/},A={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ee(Y){return e.concat("(?!",Y.join("|"),")")}const ne={match:e.concat(/\b/,ee([...Ra,"super","import"].map(Y=>`${Y}\\s*\\(`)),n,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},oe={begin:e.concat(/\./,e.lookahead(e.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},we={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},z]},de="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",Me={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(de)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[z]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:U,CLASS_REFERENCE:Q},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),I,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,O,_,f,k,m,{match:/\$\d+/},h,Q,{scope:"attr",match:n+e.lookahead(":"),relevance:0},Me,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[m,t.REGEXP_MODE,{className:"function",begin:de,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:U}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r.begin,end:r.end},{match:i},{begin:l.begin,"on:begin":l.isTrulyOpeningTag,end:l.end}],subLanguage:"xml",contains:[{begin:l.begin,end:l.end,skip:!0,contains:["self"]}]}]},B,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[z,t.inherit(t.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},oe,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[z]},ne,A,X,we,{match:/\$[(.]/}]}}function Ao(t){const e=t.regex,a=Oo(t),n=nn,r=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},l={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:r},contains:[a.exports.CLASS_REFERENCE]},s={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},u=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],d={$pattern:nn,keyword:Ia.concat(u),literal:Ca,built_in:ka.concat(r),"variable.language":Ma},b={className:"meta",begin:"@"+n},h=(f,k,N)=>{const m=f.contains.findIndex(q=>q.label===k);if(m===-1)throw new Error("can not find mode to replace");f.contains.splice(m,1,N)};Object.assign(a.keywords,d),a.exports.PARAMS_CONTAINS.push(b);const S=a.contains.find(f=>f.scope==="attr"),O=Object.assign({},S,{match:e.concat(n,e.lookahead(/\s*\?:/))});a.exports.PARAMS_CONTAINS.push([a.exports.CLASS_REFERENCE,S,O]),a.contains=a.contains.concat([b,i,l,O]),h(a,"shebang",t.SHEBANG()),h(a,"use_strict",s);const _=a.contains.find(f=>f.label==="func.def");return _.relevance=0,Object.assign(a,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),a}var mt="[0-9](_*[0-9])*",Ht=`\\.(${mt})`,qt="[0-9a-fA-F](_*[0-9a-fA-F])*",sa={className:"number",variants:[{begin:`(\\b(${mt})((${Ht})|\\.)?|(${Ht}))[eE][+-]?(${mt})[fFdD]?\\b`},{begin:`\\b(${mt})((${Ht})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Ht})[fFdD]?\\b`},{begin:`\\b(${mt})[fFdD]\\b`},{begin:`\\b0[xX]((${qt})\\.?|(${qt})?\\.(${qt}))[pP][+-]?(${mt})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${qt})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function La(t,e,a){return a===-1?"":t.replace(e,n=>La(t,e,a-1))}function Io(t){const e=t.regex,a="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",n=a+La("(?:<"+a+"~~~(?:\\s*,\\s*"+a+"~~~)*>)?",/~~~/g,2),u={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},d={className:"meta",begin:"@"+a,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},b={className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:u,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,a],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,a),/\s+/,a,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,a],className:{1:"keyword",3:"title.class"},contains:[b,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+n+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:u,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[d,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,sa,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},sa,d]}}function Co(t){const e=t.regex,a=t.COMMENT("--","$"),n={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},r={begin:/"/,end:/"/,contains:[{match:/""/}]},i=["true","false","unknown"],l=["double precision","large object","with timezone","without timezone"],s=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],u=["add","asc","collation","desc","final","first","last","view"],d=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],b=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],h=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],S=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],O=b,_=[...d,...u].filter(U=>!b.includes(U)),f={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},k={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},N={match:e.concat(/\b/,e.either(...O),/\s*\(/),relevance:0,keywords:{built_in:O}};function m(U){return e.concat(/\b/,e.either(...U.map(z=>z.replace(/\s+/,"\\s+"))),/\b/)}const q={scope:"keyword",match:m(S),relevance:0};function J(U,{exceptions:z,when:X}={}){const Q=X;return z=z||[],U.map(I=>I.match(/\|\d+$/)||z.includes(I)?I:Q(I)?`${I}|0`:I)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:J(_,{when:U=>U.length<3}),literal:i,type:s,built_in:h},contains:[{scope:"type",match:m(l)},q,N,f,n,r,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,a,k]}}const xo=["innerHTML"],Do=xt({__name:"preview",setup(t,{expose:e}){Je.registerLanguage("xml",Sn),Je.registerLanguage("html",Sn),Je.registerLanguage("vue",Sn),Je.registerLanguage("javascript",To),Je.registerLanguage("ts",Ao),Je.registerLanguage("java",Io),Je.registerLanguage("sql",Co);const a=ue(),n=ue(!1),r=qe({tableId:"",data:[]}),{copy:i}=Ar(),l=b=>{n.value=!0,r.tableId=b,a.value="entity.java",s(b)},s=b=>{bo(b).then(h=>{r.data=h.data})},u=(b,h)=>{const S=h.substring(h.lastIndexOf("/")+1,h.indexOf(".ftl")),O=S.substring(S.indexOf(".")+1);return Je.highlight(b||"",{language:O,ignoreIllegals:!0}).value||"$nbsp;"},d=b=>{i(b),Ve.success("已复制")};return e({init:l}),(b,h)=>{const S=H("el-link"),O=H("el-tab-pane"),_=H("el-tabs"),f=H("el-drawer");return le(),Oe(f,{modelValue:n.value,"onUpdate:modelValue":h[1]||(h[1]=k=>n.value=k),size:1305,title:"代码预览",class:"drawer-preview"},{default:p(()=>[c(_,{modelValue:a.value,"onUpdate:modelValue":h[0]||(h[0]=k=>a.value=k)},{default:p(()=>[(le(!0),et(nt,null,tt(r.data,(k,N)=>(le(),Oe(O,{label:String(N).substring(String(N).lastIndexOf("/")+1,String(N).indexOf(".ftl")),name:String(N).substring(String(N).lastIndexOf("/")+1,String(N).indexOf(".ftl")),key:N},{default:p(()=>[c(S,{underline:!1,icon:Ir(Cr),onClick:m=>d(k),class:"link-copy"},{default:p(()=>h[2]||(h[2]=[pe("复制")])),_:2},1032,["icon","onClick"]),Nt("pre",null,[Nt("code",{class:"hljs",innerHTML:u(k,String(N))},null,8,xo)])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])}}}),Ro=xt({__name:"import",emits:["refreshPage"],setup(t,{expose:e,emit:a}){const n=a,r=ue(!1),i=ue(),l=qe({id:"",tableNameListSelections:[],datasourceId:"",datasourceList:[],tableList:[],table:{tableName:""}}),s=qe({datasourceId:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}),u=()=>{r.value=!0,l.id="",i.value&&i.value.resetFields(),l.tableList=[],d()},d=()=>{Pr().then(O=>{l.datasourceList=O.data})},b=()=>{l.table.tableName="",Br(l.datasourceId).then(O=>{l.tableList=O.data})},h=()=>{i.value.validate(O=>{if(!O)return!1;if(l.tableNameListSelections.length===0){Ve.warning("请选择记录");return}$r(l.datasourceId,l.tableNameListSelections).then(()=>{r.value=!1,n("refreshPage"),Ve.success("导入成功")})})},S=O=>{l.tableNameListSelections=O.map(_=>_.tableName)};return e({init:u}),(O,_)=>{const f=H("el-option"),k=H("el-select"),N=H("el-form-item"),m=H("el-table-column"),q=H("el-table"),J=H("el-form"),U=H("el-button"),z=H("el-dialog");return le(),Oe(z,{modelValue:r.value,"onUpdate:modelValue":_[4]||(_[4]=X=>r.value=X),title:"导入数据库表","close-on-click-modal":!1,draggable:""},{footer:p(()=>[c(U,{onClick:_[2]||(_[2]=X=>r.value=!1)},{default:p(()=>_[5]||(_[5]=[pe("取消")])),_:1}),c(U,{type:"primary",onClick:_[3]||(_[3]=X=>h())},{default:p(()=>_[6]||(_[6]=[pe("确定")])),_:1})]),default:p(()=>[c(J,{ref_key:"dataFormRef",ref:i,model:l,rules:s,onKeyup:_[1]||(_[1]=An(X=>h(),["enter"]))},{default:p(()=>[c(N,{label:"数据源",prop:"datasourceId"},{default:p(()=>[c(k,{modelValue:l.datasourceId,"onUpdate:modelValue":_[0]||(_[0]=X=>l.datasourceId=X),placeholder:"请选择数据源",clearable:"",onChange:b,style:{width:"100%"}},{default:p(()=>[c(f,{label:"默认数据源",value:0}),(le(!0),et(nt,null,tt(l.datasourceList,X=>(le(),Oe(f,{key:X.id,label:X.connName,value:X.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),c(q,{data:l.tableList,border:!0,style:{width:"100%"},"max-height":400,onSelectionChange:S},{default:p(()=>[c(m,{type:"selection","header-align":"center",align:"center",width:"50"}),c(m,{label:"表名",prop:"tableName","header-align":"center",align:"center"}),c(m,{label:"表说明",prop:"tableComment","header-align":"center",align:"center"})]),_:1},8,["data"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}}),Mo=xt({__name:"generator",emits:["refreshPage"],setup(t,{expose:e,emit:a}){const n=a,r=ue(!1),i=ue(),l=ue([]),s=qe({id:"",tableName:"",tableComment:"",className:"",baseClassId:"",moduleName:"",functionName:"",packageName:"",version:"",author:"",email:"",generatorType:0,formLayout:1,backendPath:"",frontendPath:""}),u=qe({tableName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],tableComment:[{required:!0,message:"必填项不能为空",trigger:"blur"}],className:[{required:!0,message:"必填项不能为空",trigger:"blur"}],packageName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],author:[{required:!0,message:"必填项不能为空",trigger:"blur"}],moduleName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],functionName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],generatorType:[{required:!0,message:"必填项不能为空",trigger:"blur"}],formLayout:[{required:!0,message:"必填项不能为空",trigger:"blur"}],backendPath:[{required:!0,message:"必填项不能为空",trigger:"blur"}],frontendPath:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}),d=_=>{r.value=!0,s.id="",i.value&&i.value.resetFields(),b(_),h()},b=_=>{ca(_).then(f=>{Object.assign(s,f.data)})},h=()=>{Ur().then(_=>{l.value=_.data})},S=()=>{i.value.validate(_=>{if(!_)return!1;Zn(s).then(()=>{r.value=!1,n("refreshPage"),Ve.success("操作成功")})})},O=()=>{i.value.validate(async _=>{if(!_)return!1;if(await Zn(s),s.generatorType===0){Na([s.id]),r.value=!1;return}_o([s.id]).then(()=>{r.value=!1,n("refreshPage"),Ve.success("操作成功")})})};return e({init:d}),(_,f)=>{const k=H("el-input"),N=H("el-form-item"),m=H("el-col"),q=H("el-row"),J=H("el-option"),U=H("el-select"),z=H("el-radio"),X=H("el-radio-group"),Q=H("el-form"),I=H("el-button"),B=H("el-dialog");return le(),Oe(B,{modelValue:r.value,"onUpdate:modelValue":f[18]||(f[18]=A=>r.value=A),title:"生成代码","close-on-click-modal":!1,draggable:""},{footer:p(()=>[c(I,{onClick:f[15]||(f[15]=A=>r.value=!1)},{default:p(()=>f[23]||(f[23]=[pe("取消")])),_:1}),c(I,{type:"primary",onClick:f[16]||(f[16]=A=>S())},{default:p(()=>f[24]||(f[24]=[pe("保存")])),_:1}),c(I,{type:"success",onClick:f[17]||(f[17]=A=>O())},{default:p(()=>f[25]||(f[25]=[pe("生成代码")])),_:1})]),default:p(()=>[c(Q,{ref_key:"dataFormRef",ref:i,model:s,rules:u,"label-width":"120",onKeyup:f[14]||(f[14]=An(A=>S(),["enter"]))},{default:p(()=>[c(q,null,{default:p(()=>[c(m,{span:12},{default:p(()=>[c(N,{label:"表名",prop:"tableName"},{default:p(()=>[c(k,{modelValue:s.tableName,"onUpdate:modelValue":f[0]||(f[0]=A=>s.tableName=A),disabled:"",placeholder:"表名"},null,8,["modelValue"])]),_:1})]),_:1}),c(m,{span:12},{default:p(()=>[c(N,{label:"说明",prop:"tableComment"},{default:p(()=>[c(k,{modelValue:s.tableComment,"onUpdate:modelValue":f[1]||(f[1]=A=>s.tableComment=A),placeholder:"说明"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),c(q,null,{default:p(()=>[c(m,{span:12},{default:p(()=>[c(N,{label:"类名",prop:"className"},{default:p(()=>[c(k,{modelValue:s.className,"onUpdate:modelValue":f[2]||(f[2]=A=>s.className=A),placeholder:"类名"},null,8,["modelValue"])]),_:1})]),_:1}),c(m,{span:12},{default:p(()=>[c(N,{label:"继承",prop:"baseClassId"},{default:p(()=>[c(U,{modelValue:s.baseClassId,"onUpdate:modelValue":f[3]||(f[3]=A=>s.baseClassId=A),placeholder:"继承",style:{width:"100%"},clearable:""},{default:p(()=>[(le(!0),et(nt,null,tt(l.value,A=>(le(),Oe(J,{key:A.id,label:A.code,value:A.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),c(q,null,{default:p(()=>[c(m,{span:12},{default:p(()=>[c(N,{label:"模块名称",prop:"moduleName"},{default:p(()=>[c(k,{modelValue:s.moduleName,"onUpdate:modelValue":f[4]||(f[4]=A=>s.moduleName=A),placeholder:"模块名称"},null,8,["modelValue"])]),_:1})]),_:1}),c(m,{span:12},{default:p(()=>[c(N,{label:"功能名称",prop:"functionName"},{default:p(()=>[c(k,{modelValue:s.functionName,"onUpdate:modelValue":f[5]||(f[5]=A=>s.functionName=A),placeholder:"功能名称"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),c(q,null,{default:p(()=>[c(m,{span:12},{default:p(()=>[c(N,{label:"项目包名",prop:"packageName"},{default:p(()=>[c(k,{modelValue:s.packageName,"onUpdate:modelValue":f[6]||(f[6]=A=>s.packageName=A),placeholder:"项目包名"},null,8,["modelValue"])]),_:1})]),_:1}),c(m,{span:12},{default:p(()=>[c(N,{label:"版本号",prop:"version"},{default:p(()=>[c(k,{modelValue:s.version,"onUpdate:modelValue":f[7]||(f[7]=A=>s.version=A),placeholder:"版本号"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),c(q,null,{default:p(()=>[c(m,{span:12},{default:p(()=>[c(N,{label:"作者",prop:"author"},{default:p(()=>[c(k,{modelValue:s.author,"onUpdate:modelValue":f[8]||(f[8]=A=>s.author=A),placeholder:"作者"},null,8,["modelValue"])]),_:1})]),_:1}),c(m,{span:12},{default:p(()=>[c(N,{label:"作者邮箱",prop:"email"},{default:p(()=>[c(k,{modelValue:s.email,"onUpdate:modelValue":f[9]||(f[9]=A=>s.email=A),placeholder:"作者邮箱"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),c(q,null,{default:p(()=>[c(m,{span:12},{default:p(()=>[c(N,{label:"生成方式",prop:"generatorType"},{default:p(()=>[c(X,{modelValue:s.generatorType,"onUpdate:modelValue":f[10]||(f[10]=A=>s.generatorType=A)},{default:p(()=>[c(z,{label:0},{default:p(()=>f[19]||(f[19]=[pe("zip压缩包")])),_:1}),c(z,{label:1},{default:p(()=>f[20]||(f[20]=[pe("自定义路径")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),c(m,{span:12},{default:p(()=>[c(N,{label:"表单布局",prop:"formLayout"},{default:p(()=>[c(X,{modelValue:s.formLayout,"onUpdate:modelValue":f[11]||(f[11]=A=>s.formLayout=A)},{default:p(()=>[c(z,{label:1},{default:p(()=>f[21]||(f[21]=[pe("一列")])),_:1}),c(z,{label:2},{default:p(()=>f[22]||(f[22]=[pe("两列")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),s.generatorType===1?(le(),Oe(N,{key:0,label:"后端生成路径",prop:"backendPath"},{default:p(()=>[c(k,{modelValue:s.backendPath,"onUpdate:modelValue":f[12]||(f[12]=A=>s.backendPath=A),placeholder:"后端生成路径"},null,8,["modelValue"])]),_:1})):Xn("",!0),s.generatorType===1?(le(),Oe(N,{key:1,label:"前端生成路径",prop:"frontendPath"},{default:p(()=>[c(k,{modelValue:s.frontendPath,"onUpdate:modelValue":f[13]||(f[13]=A=>s.frontendPath=A),placeholder:"前端生成路径"},null,8,["modelValue"])]),_:1})):Xn("",!0)]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}}),Vo=xt({__name:"index",setup(t){const e=qe({queryForm:{tableName:""},page:{current:1,pageSize:10,total:0,orderItems:[{column:"createTime",asc:!1}]},data:[],tableIds:[],loading:!1}),a=ue(),n=ue(),r=ue(),i=ue();xr(()=>{l()});const l=(N=1,m)=>{e.page.current=N,m!==void 0&&(e.page.pageSize=m),e.loading=!0;const q={current:e.page.current,pageSize:e.page.pageSize,orderItems:e.page.orderItems,...e.queryForm};Gr(q).then(J=>{const{list:U,total:z}=J.data;e.data=U,e.page.total=z}),e.loading=!1},s=N=>{l(1,N)},u=N=>{l(N)},d=N=>{i.value.init(N)},b=N=>{r.value.init(N)},h=N=>{a.value.init(N)},S=N=>{Kn.confirm(`确定同步数据表${N.tableName}吗？`,"提示",{type:"warning"}).then(()=>{Vr(N.id).then(()=>{Ve.success("同步成功")})}).catch(()=>{})},O=()=>{n.value.init()},_=()=>{if(e.tableIds.length===0){Ve.warning("请选择生成代码的表");return}Na(e.tableIds)},f=N=>{let m=[];if(N)m=[N];else if(m=e.tableIds?e.tableIds:[],e.tableIds.length===0){Ve.warning("请选择删除的记录");return}Kn.confirm("确定进行删除操作？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{zr(m).then(()=>{Ve.success("删除成功"),l()})}).catch(q=>{console.error(q)})},k=N=>{e.tableIds=N.map(m=>m.id)};return(N,m)=>{const q=H("el-input"),J=H("el-form-item"),U=H("el-button"),z=H("el-form"),X=H("el-table-column"),Q=H("el-table"),I=H("el-pagination"),B=H("el-card"),A=Dr("loading");return le(),Oe(B,{shadow:"hover"},{default:p(()=>[c(z,{inline:!0,model:e.queryForm,onKeyup:m[5]||(m[5]=An(ee=>l(),["enter"])),onSubmit:m[6]||(m[6]=Mr(()=>{},["prevent"]))},{default:p(()=>[c(J,null,{default:p(()=>[c(q,{modelValue:e.queryForm.tableName,"onUpdate:modelValue":m[0]||(m[0]=ee=>e.queryForm.tableName=ee),placeholder:"表名",clearable:""},null,8,["modelValue"])]),_:1}),c(J,null,{default:p(()=>[c(U,{onClick:m[1]||(m[1]=ee=>l())},{default:p(()=>m[7]||(m[7]=[pe("查询")])),_:1}),c(U,{type:"primary",onClick:m[2]||(m[2]=ee=>O())},{default:p(()=>m[8]||(m[8]=[pe("导入")])),_:1}),c(U,{type:"success",onClick:m[3]||(m[3]=ee=>_())},{default:p(()=>m[9]||(m[9]=[pe("生成代码")])),_:1}),c(U,{type:"danger",onClick:m[4]||(m[4]=ee=>f())},{default:p(()=>m[10]||(m[10]=[pe("删除")])),_:1})]),_:1})]),_:1},8,["model"]),Rr((le(),Oe(Q,{data:e.data,border:!0,style:{width:"100%"},onSelectionChange:k},{default:p(()=>[c(X,{type:"selection","header-align":"center",align:"center",width:"50"}),c(X,{label:"表名",prop:"tableName","header-align":"center",align:"center"}),c(X,{label:"表说明",prop:"tableComment","header-align":"center",align:"center"}),c(X,{label:"类名",prop:"className","header-align":"center",align:"center"}),c(X,{label:"操作",fixed:"right","header-align":"center",align:"center",width:"280"},{default:p(ee=>[c(U,{type:"success",link:"",onClick:ne=>d(ee.row.id)},{default:p(()=>m[11]||(m[11]=[pe("生成代码")])),_:2},1032,["onClick"]),c(U,{type:"info",link:"",onClick:ne=>b(ee.row.id)},{default:p(()=>m[12]||(m[12]=[pe("预览")])),_:2},1032,["onClick"]),c(U,{type:"primary",link:"",onClick:ne=>h(ee.row.id)},{default:p(()=>m[13]||(m[13]=[pe("编辑")])),_:2},1032,["onClick"]),c(U,{type:"warning",link:"",onClick:ne=>S(ee.row)},{default:p(()=>m[14]||(m[14]=[pe("同步")])),_:2},1032,["onClick"]),c(U,{type:"danger",link:"",onClick:ne=>f(ee.row.id)},{default:p(()=>m[15]||(m[15]=[pe("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[A,e.loading]]),c(I,{"current-page":e.page.current,"page-size":e.page.pageSize,"page-sizes":[10,20,50,100,200],total:e.page.total,layout:"total,sizes,prev,pager,next,jumper",onSizeChange:s,onCurrentChange:u},null,8,["current-page","page-size","total"]),c(Ro,{ref_key:"importRef",ref:n,onRefreshPage:l},null,512),c(mo,{ref_key:"editRef",ref:a,onRefreshPage:l},null,512),c(Do,{ref_key:"previewRef",ref:r},null,512),c(Mo,{ref_key:"generatorRef",ref:i,onRefreshPage:l},null,512)]),_:1})}}});export{Vo as default};
